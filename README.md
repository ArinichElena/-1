# Поликлиники города N

Объектом БД является деятельность поликлиник города N, оказывающих медицинскую помощь пациентам в части приемов врачей, направлении на исследования, получении результатов исследований от лабораторий.

**На основе БД можно будет:**

- посчитать количество пациентов, получаемых консультации врачей во временных срезах, в разбивке по диагнозам, специализациям врачей, для отслеживания сезонных пиков заболевания и выявления аномалий;
- отследить лаборатории нарушающие сроки выполнения исследований, а также выявлять исследования, которые чаще всего назначаются, строить прогнозы и на основе них закупать нужные препараты;
- узнать какие врачи пользуются популярностью и понять, какие из них перегружены и возможно необходимо увеличить/уменьшить количество персонала.

Схема БД [https://app.sqldbm.com/PostgreSQL/Edit/p252077/#][схема бд]

<image src="https://github.com/ArinichElena/Documentation/blob/main/Схема%20БД.jpeg">

**referral_doctor - факт направления к врачу**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор направления | bigint | PKUnique | + | Автонумерация |
| 2 | patient_id | Идентификатор пациента | bigint | FK (patient.id) | + | Дополнительная информация по справочнику Пациент |
| 3 | specialization_id | Идентификатор специализации врача | int | FK (specialization.id) | + | Дополнительная информация по справочнику Специализация врача |
| 4 | load_date | Дата заведения | datetime | | + | |

**record_doctor - факт записи к врачу**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор записи | bigint | PKUnique | + | Автонумерация |
| 2 | patient_id | Идентификатор пациента | bigint | FK (patient.id) | + | Дополнительная информация по справочнику Пациент |
| 3 | referal_id | Идентификатор направления | bigint | FK (referal.id) | - | Может быть не заполнено, т.к. пациент не обязательно записывается по направлению|
| 4 | doctor_id | Идентификатор врача | int | FK (doctor.id) | + | Дополнительная информация по справочнику Врач |
| 5 | clinic_id | Идентификатор поликлиники | int | FK (clinic.id) | + | Дополнительная информация по справочнику Поликлиника |
| 6 | load_date | Дата заведения | datetime | | + ||
| 7 | record_date | Дата записи к врачу | datetime | | + ||

**reception_doctor - факт состоявшегося приеме у врача**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор приема | bigint | PKUnique | + | Автонумерация |
| 2 | patient_id | Идентификатор пациента | bigint | FK (patient.id) | + | Дополнительная информация по справочнику Пациент |
| 3 | record_id | Идентификатор записи к врачу | bigint | FK (record.id) | - | Может быть не заполнено, т.к. пациент не обязательно приходит на прем по записи (например живая очередь) |
| 4 | doctor_id | Идентификатор врача | int | FK (doctor.id) | + | Дополнительная информация по справочнику Врач |
| 5 | clinic_id | Идентификатор поликлиники | int | FK (clinic.id) | + | Дополнительная информация по справочнику Поликлиника |
| 6 | load_date | Дата заведения | datetime | | + | |
| 7 | reception_date | Дата приема | datetime | | + | |
| 8 | code_diag | Код диагноза | varchar | | - | По международной классификации болезней |
| 9 | comment_doctor | Комментарий | text | | - | Комментарий, заполняющийся врачом (рекомендации лечения, расшифровка диагноза и т.п.)|

**referral_research - факт направления на исследование**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор направления | bigint | PKUnique | + | Автонумерация |
| 2 | patient_id | Идентификатор пациента | bigint | FK (patient.id) | + | Дополнительная информация по справочнику Пациент |
| 3 | research_id | Идентификатор исследования | int | FK (research.id) | + | Дополнительная информация по справочнику Исследование |
| 4 | load_date | Дата заведения | datetime | | + | |

**record_research - факт записи на исследование**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор записи | bigint | PKUnique | + | Автонумерация |
| 2 | patient_id | Идентификатор пациента | bigint | FK (patient.id) | + | Дополнительная информация по справочнику Пациент |
| 3 | referal_research_id | Идентификатор направления на исследование | bigint | FK (referal_research.id) | - | Может быть не заполнено, т.к. пациент не обязательно записывается по направлению |
| 4 | research_id | Идентификатор исследования | int | FK (research.id) | + | Дополнительная информация по справочнику Исследование |
| 5 | clinic_id | Идентификатор поликлиники | int | FK (clinic.id) | + | Дополнительная информация по справочнику Поликлиника |
| 6 | load_date | Дата заведения | datetime | | + | |
| 7 | record_date | Дата записи к врачу | datetime | | + | |

**fact_research - факт состоявшегося исследования**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор прошедшего исследования | bigint | PKUnique | + | Автонумерация |
| 2 | patient_id | Идентификатор пациента | bigint | FK (patient.id) | + | Дополнительная информация по справочнику Пациент |
| 3 | record_research_id | Идентификатор записи на исследование | bigint | FK (record_research.id) | - | Может быть не заполнено, т.к. пациент не обязательно приходит на исследование по записи (например живая очередь) |
| 4 | doctor_id | Идентификатор врача, проводившего исследование | int | FK (doctor.id) | + | Дополнительная информация по справочнику Врач |
| 5 | clinic_id | Идентификатор поликлиники | int | FK (clinic.id) | + | Дополнительная информация по справочнику Поликлиника |
| 6 | laboratory_id | Идентификатор лаборатории | int | FK (laboratory.id) | - | Поле заполняется, если исследование было лабораторное, а не инструментальное |
| 7 | research_id | Идентификатор исследования | int | FK (research.id) | + | Дополнительная информация по справочнику Исследование |
| 8 | load_date | Дата заведения | datetime | | + | |
| 9 | result_date | Дата получения результата исследования | datetime | | + | |
| 10 | result_research | Описание результата | text | | - | |
| 11 | comment_research | Комментарий | text | | - | Комментарий, заполняющийся врачом (расшифровка результата и т.п.) |

**patient - пациент**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор пациента | bigint | PKUnique | + | Автонумерация |
| 2 | surname | Фамилия пациента | varchar | | + | |
| 3 | name | Имя пациента | varchar | | + | |
| 4 | patronymic | Отчество пациента | varchar | | - | |
| 5 | birthday | Дата рождения | date | | - | |
| 6 | medical_policy | Медицинский полис | bigint | | - | |
| 7 | gender | Пол | varchar | | - | |

**clinic - поликлиника**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор поликлиники | int | PKUnique | + | Автонумерация |
| 2 | name | Полное наименование поликлиники | text | | + | |
| 3 | short_name | Краткое наименование поликлиники | text | | + | |
| 4 | address | Адрес | text | | + | |
| 5 | type_clinic_id | Тип поликлиник | int | FK (type_clinic.id) | + | Дополнительная информация по справочнику Тип поликлиники |

**type_clinic – тип поликлиники**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор типа | int | PKUnique | + | Автонумерация |
| 2 | name | Наименование типа поликлиники | varchar | | + | Детская, взрослая, смешанная |

**laboratory - лаборатория**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор лаборатории | int | PKUnique | + | Автонумерация |
| 2 | name | Полное наименование лаборатории | text | | + | |
| 3 | short_name | Краткое наименование лаборатории | text | | + | |
| 4 | address | Адрес | text | | + | |
| 5 | clinic_id | Идентификатор поликлиники, к которой относится лаборатория | int | FK (clinic.id) | + | Дополнительная информация по справочнику Поликлиника |

**doctor - врач**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор врача | int | PKUnique | + | Автонумерация |
| 2 | surname | Фамилия врача | varchar | | + | |
| 3 | name | Имя врача | varchar | | + | |
| 4 | patronymic | Отчество врача | varchar | | - | |
| 5 | birthday | Дата рождения | date | | - | |
| 6 | gender | Пол | varchar | | - | |
| 7 | specialization_id | Идентификатор специализации | int | FK (specialization.id) | + | Дополнительная информация по справочнику Специализация врача |
| 8 | clinic_id | Идентификатор поликлиники | int | FK (clinic.id) | + | Дополнительная информация по справочнику Поликлиника |

**specialization – специализация врача**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор специализации | int | PKUnique | + | Автонумерация |
| 2 | name | Наименование специализации | varchar | | + | |

**research - исследование**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор исследования | int | PKUnique | + | Автонумерация |
| 2 | name | Полное наименование исследования | text | | + | |
| 3 | short_name | Краткое исследования | text | | + | |
| 4 | type_research_id | Идентификатор типа исследования | int | FK (type_research.id) | + | Дополнительная информация по справочнику Тип исследования |

**type_research – тип исследования**
| № | Наименование | Описание | Тип данных | Ограничение | Обязательность заполнения | Примечание |
|:----|:----|:----|:----|:----|:----|:----|
| 1 | id | Идентификатор специализации | int | PKUnique | + | Автонумерация |
| 2 | name | Наименование типа исследования | varchar | | + | Лабораторное, инструментальное |

[схема бд]: https://app.sqldbm.com/PostgreSQL/Edit/p252077/#
